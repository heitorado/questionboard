// Configure toastr notification
toastr.options = {
    "closeButton": false,
    "debug": false,
    "newestOnTop": false,
    "progressBar": false,
    "positionClass": "toast-bottom-right",
    "preventDuplicates": true,
    "onclick": null,
    "showDuration": "300",
    "hideDuration": "1000",
    "timeOut": "5000",
    "extendedTimeOut": "1000",
    "showEasing": "swing",
    "hideEasing": "linear",
    "showMethod": "fadeIn",
    "hideMethod": "fadeOut"
  }


toastBeingDisplayed = false;


document.body.addEventListener('ajax:success', function(event) {
    var detail = event.detail;
    var data = detail[0], status = detail[1], xhr = detail[2];

    $('#<%= params[:id] %>').fadeOut(500, function() { 
        $(this).remove();
    });


    // Display toastr success notification
    if(!toastBeingDisplayed)
    {   
        toastBeingDisplayed = true;
        M.toast({
                html: "Marked as answered!",
                completeCallback: function(){ toastBeingDisplayed = false; }
                });
    }
    //toastr["success"]("Marked as answered!");

});